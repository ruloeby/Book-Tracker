#spring.application.name=vitrine
#server.port=8080
#
## URL des services backend (use environment variables with localhost fallback)
#book.service.url=${BOOK_SERVICE_URL:http://localhost:8081}
#ai.service.url=${AI_SERVICE_URL:http://localhost:5001}
#
## Session
#server.servlet.session.timeout=30m
#
#spring.web.resources.add-mappings=true
#
## Thymeleaf
#spring.thymeleaf.cache=false
#spring.thymeleaf.prefix=classpath:/templates/
#spring.thymeleaf.suffix=.html
#
## OAuth2 Client Configuration
#spring.security.oauth2.client.registration.keycloak.client-id=vitrine
#spring.security.oauth2.client.registration.keycloak.client-secret=${SPRING_OAUTH2_CLIENT_SECRET:FZiCZgWJ69eegh4NvT5GwiZhX3jrAgJ8}
#spring.security.oauth2.client.registration.keycloak.scope=openid,profile,email
#spring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code
#spring.security.oauth2.client.registration.keycloak.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}
#
## Provider Configuration (use environment variable with localhost fallback)
#spring.security.oauth2.client.provider.keycloak.issuer-uri=${SPRING_SECURITY_OAUTH2_CLIENT_PROVIDER_KEYCLOAK_ISSUER_URI:http://localhost:8180/realms/booktracker}
#spring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username
#
## Keycloak Configuration (for AuthController - use environment variables)
#keycloak.token.url=${KEYCLOAK_TOKEN_URL:http://localhost:8180/realms/booktracker/protocol/openid-connect/token}
#keycloak.client.id=vitrine
#keycloak.client.secret=${SPRING_OAUTH2_CLIENT_SECRET:FZiCZgWJ69eegh4NvT5GwiZhX3jrAgJ8}
#keycloak.admin.url=${KEYCLOAK_ADMIN_URL:http://localhost:8180}
#keycloak.realm=booktracker


spring.application.name=vitrine
server.port=8080

# URL des services backend (use environment variables with localhost fallback)
book.service.url=${BOOK_SERVICE_URL:http://localhost:8081}
ai.service.url=${AI_SERVICE_URL:http://localhost:5001}

# Session
server.servlet.session.timeout=30m

spring.web.resources.add-mappings=true

# Thymeleaf
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# Disable OAuth2 auto-configuration since we handle authentication manually
# Disable OAuth2 auto-configuration since we handle authentication manually
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration

# Keycloak Configuration (for manual authentication in AuthController)
keycloak.token.url=${KEYCLOAK_TOKEN_URL:http://localhost:8180/realms/booktracker/protocol/openid-connect/token}
keycloak.client.id=vitrine
keycloak.client.secret=${SPRING_OAUTH2_CLIENT_SECRET:FZiCZgWJ69eegh4NvT5GwiZhX3jrAgJ8}
keycloak.admin.url=${KEYCLOAK_ADMIN_URL:http://localhost:8180}
keycloak.realm=booktracker